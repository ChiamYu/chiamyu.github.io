<!DOCTYPE html><html lang="en-US" mode="light" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="pv-cache-enabled" content="false"><meta name="generator" content="Jekyll v4.2.0" /><meta property="og:title" content="Using crossref API to parse citations" /><meta property="og:locale" content="en_US" /><meta name="description" content="Convert DOI to any citation format using the crossref API" /><meta property="og:description" content="Convert DOI to any citation format using the crossref API" /><link rel="canonical" href="https://chiamyu.github.io/posts/crossref-api/" /><meta property="og:url" content="https://chiamyu.github.io/posts/crossref-api/" /><meta property="og:site_name" content="Garage Time @ The Aquarium" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-05-15T00:00:00-07:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Using crossref API to parse citations" /><meta name="twitter:site" content="@twitter_username" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"description":"Convert DOI to any citation format using the crossref API","headline":"Using crossref API to parse citations","dateModified":"2020-05-15T00:00:00-07:00","url":"https://chiamyu.github.io/posts/crossref-api/","datePublished":"2020-05-15T00:00:00-07:00","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://chiamyu.github.io/posts/crossref-api/"},"@context":"https://schema.org"}</script><title>Using crossref API to parse citations | Garage Time @ The Aquarium</title><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/sample/avatar.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Garage Time @ The Aquarium</a></div><div class="site-subtitle font-italic">Snippets, tutorials and mini projects.</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/ChiamYu" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/twitter_username" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['ng.chiam.yu+git','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>Using crossref API to parse citations</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Using crossref API to parse citations</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> CYN </span> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Fri, May 15, 2020, 12:00 AM -0700" prep="on" > May 15, 2020 <i class="unloaded">2020-05-15T00:00:00-07:00</i> </span></div><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1238 words">6 min</span></div></div><div class="post-content"><h2 id="convert-doi-to-any-citation-format-using-the-crossref-api">Convert DOI to any citation format using the crossref API</h2><ul><li>Python script to convert a DOI into specific citation style:</ul><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
</pre><td class="rouge-code"><pre><span class="kn">from</span> <span class="nn">yaml</span> <span class="kn">import</span> <span class="n">load</span><span class="p">,</span> <span class="n">dump</span>
<span class="kn">import</span> <span class="nn">urllib.request</span>
<span class="kn">from</span> <span class="nn">urllib.error</span> <span class="kn">import</span> <span class="n">HTTPError</span>
<span class="kn">import</span> <span class="nn">time</span>

<span class="k">def</span> <span class="nf">build_formatted_citation</span><span class="p">(</span><span class="n">doi_url</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s">'mla'</span><span class="p">,</span> <span class="n">get_json</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="bp">True</span><span class="p">):</span>
  <span class="n">BASE_URL</span> <span class="o">=</span> <span class="s">'https://doi.org/'</span>
  <span class="n">bibtex</span> <span class="o">=</span> <span class="bp">None</span>

  <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">doi_url</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
    <span class="k">return</span> <span class="bp">None</span>

  <span class="k">if</span> <span class="ow">not</span> <span class="n">doi_url</span><span class="p">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">'http'</span><span class="p">):</span>
    <span class="n">doi_url</span> <span class="o">=</span> <span class="n">BASE_URL</span> <span class="o">+</span> <span class="n">doi_url</span> 
  
  <span class="k">if</span> <span class="n">BASE_URL</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">doi_url</span><span class="p">:</span>
    <span class="k">raise</span> <span class="nb">ValueError</span><span class="p">(</span><span class="s">"Incorrect doi_url: {}! It might starts with {}"</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span>
        <span class="n">doi_url</span><span class="p">,</span> <span class="n">BASE_URL</span><span class="p">))</span>

  <span class="n">req</span> <span class="o">=</span> <span class="n">urllib</span><span class="p">.</span><span class="n">request</span><span class="p">.</span><span class="n">Request</span><span class="p">(</span><span class="n">doi_url</span><span class="p">)</span>

  <span class="c1"># This is the latex style
</span>  <span class="c1">#args = 'application/x-bibtex'
</span>  
  <span class="k">if</span> <span class="n">get_json</span><span class="p">:</span>
    <span class="n">args</span> <span class="o">=</span> <span class="s">"application/citeproc+json"</span>
  <span class="k">else</span><span class="p">:</span>
    <span class="n">args</span> <span class="o">=</span> <span class="s">"text/bibliography; style={style}"</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">style</span><span class="o">=</span><span class="n">style</span><span class="p">)</span>

  <span class="n">req</span><span class="p">.</span><span class="n">add_header</span><span class="p">(</span><span class="s">'Accept'</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span>
  
  <span class="k">try</span><span class="p">:</span>
      <span class="k">with</span> <span class="n">urllib</span><span class="p">.</span><span class="n">request</span><span class="p">.</span><span class="n">urlopen</span><span class="p">(</span><span class="n">req</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
          <span class="n">bibtex</span> <span class="o">=</span> <span class="n">f</span><span class="p">.</span><span class="n">read</span><span class="p">().</span><span class="n">decode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">)</span>      
  <span class="k">except</span> <span class="n">HTTPError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
      <span class="k">if</span> <span class="n">e</span><span class="p">.</span><span class="n">code</span> <span class="o">==</span> <span class="mi">404</span><span class="p">:</span>
          <span class="k">print</span><span class="p">(</span><span class="s">'DOI not found: {}'</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">doil_url</span><span class="p">))</span>
      <span class="k">else</span><span class="p">:</span>
          <span class="k">print</span><span class="p">(</span><span class="s">'Service unavailable.'</span><span class="p">)</span>

  <span class="k">if</span> <span class="n">verbose</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">bibtex</span><span class="p">)</span>
  
  <span class="k">return</span> <span class="n">bibtex</span>
 
</pre></table></code></div></div><p><strong>1. Retrieve citation in MLA style</strong></p><p>For more citation styles, see http://api.crossref.org/styles</p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="n">doi_url</span> <span class="o">=</span> <span class="s">"https://doi.org/10.1073/pnas.1811971115"</span>
<span class="n">refs</span> <span class="o">=</span> <span class="n">build_formatted_citation</span><span class="p">(</span><span class="n">doi_url</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s">'mla'</span><span class="p">,</span> <span class="n">get_json</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></table></code></div></div><p>This returns</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>Brunk, Elizabeth et al. “Characterizing Posttranslational Modifications in Prokaryotic Metabolism Using a Multiscale Workflow.” Proceedings of the National Academy of Sciences 115.43 (2018): 11096–11101.
</pre></table></code></div></div><p><strong>2. Retrieve citation in JSON/dictionary format</strong></p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="kn">import</span> <span class="nn">json</span>
<span class="n">doi_url</span> <span class="o">=</span> <span class="s">"https://doi.org/10.1073/pnas.1811971115"</span>
<span class="n">refs</span> <span class="o">=</span> <span class="n">build_formatted_citation</span><span class="p">(</span><span class="n">doi_url</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s">''</span><span class="p">,</span> <span class="n">get_json</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">loads</span><span class="p">(</span><span class="n">refs</span><span class="p">)</span>
</pre></table></code></div></div><p>This returns a large dictionary of all the information about the paper. A subset of that is shown below:</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
</pre><td class="rouge-code"><pre>{'URL': 'http://dx.doi.org/10.1073/pnas.1811971115',
 'author': [{'ORCID': 'http://orcid.org/0000-0001-8578-8658',
   'affiliation': [],
   'authenticated-orcid': False,
   'family': 'Brunk',
   'given': 'Elizabeth',
   'sequence': 'first'},
  {'affiliation': [],
   'family': 'Chang',
   'given': 'Roger L.',
   'sequence': 'additional'},
  {'affiliation': [],
   'family': 'Xia',
   'given': 'Jing',
   'sequence': 'additional'},
  {'affiliation': [],
   'family': 'Hefzi',
   'given': 'Hooman',
   'sequence': 'additional'},
  {'ORCID': 'http://orcid.org/0000-0002-9403-509X',
   'affiliation': [],
   'authenticated-orcid': False,
   'family': 'Yurkovich',
   'given': 'James T.',
   'sequence': 'additional'},
  {'affiliation': [],
   'family': 'Kim',
   'given': 'Donghyuk',
   'sequence': 'additional'},
  {'affiliation': [],
   'family': 'Buckmiller',
   'given': 'Evan',
   'sequence': 'additional'},
  {'ORCID': 'http://orcid.org/0000-0003-2164-4318',
   'affiliation': [],
   'authenticated-orcid': False,
   'family': 'Wang',
   'given': 'Harris H.',
   'sequence': 'additional'},
  {'affiliation': [],
   'family': 'Cho',
   'given': 'Byung-Kwan',
   'sequence': 'additional'},
  {'affiliation': [],
   'family': 'Yang',
   'given': 'Chen',
   'sequence': 'additional'},
  {'affiliation': [],
   'family': 'Palsson',
   'given': 'Bernhard O.',
   'sequence': 'additional'},
  {'affiliation': [],
   'family': 'Church',
   'given': 'George M.',
   'sequence': 'additional'},
  {'affiliation': [],
   'family': 'Lewis',
   'given': 'Nathan E.',
   'sequence': 'additional'}],
 'issue': '43',
 'publisher': 'Proceedings of the National Academy of Sciences',
 'subject': ['Multidisciplinary'],
 'title': 'Characterizing posttranslational modifications in prokaryotic metabolism using a multiscale workflow'}
</pre></table></code></div></div><h2 id="create-a-list-of-citations-from-doi">Create a list of citations from DOI</h2><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="n">list_of_doi</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s">'https://doi.org/10.1038/s41929-018-0212-4'</span><span class="p">,</span>
    <span class="s">'https://doi.org/10.1016/j.tibtech.2019.01.003'</span><span class="p">,</span>
    <span class="s">'https://doi.org/10.1186/s12859-019-2872-8'</span><span class="p">,</span>
    <span class="s">'https://doi.org/10.1093/bib/bby024'</span>
<span class="p">]</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">doi</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">list_of_doi</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span>
  <span class="k">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> 
      <span class="n">build_formatted_citation</span><span class="p">(</span><span class="n">doi</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s">'bioinformatics'</span><span class="p">,</span> <span class="n">get_json</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="bp">False</span><span class="p">))</span>
</pre></table></code></div></div><p>Output:</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre>1 Lee,S.Y. et al. (2019) A comprehensive metabolic map for production of bio-based chemicals. Nature Catalysis, 2, 18–33.

2 Choi,K.R. et al. (2019) Systems Metabolic Engineering Strategies: Integrating Systems and Synthetic Biology with Metabolic Engineering. Trends in Biotechnology, 37, 817–837.

3 Yu,H. and Blair,R.H. (2019) Integration of probabilistic regulatory networks into constraint-based models of metabolism with applications to Alzheimer’s disease. BMC Bioinformatics, 20.

4 Ostaszewski,M. et al. (2018) Community-driven roadmap for integrated disease maps. Briefings in Bioinformatics, 20, 659–670.
</pre></table></code></div></div><h2 id="parse-a-yaml-file-containing-a-list-of-notes-about-each-paper-into-text-with-citations">Parse a YAML file containing a list of notes about each paper into text with citations</h2><p>If you ever have to store information about each paper you read, I found that the YAML format is quite nice for this task. It is human-readable and can be edited using text editor like vscode. You can add notes, comments, tags, references (in the standardized DOI format) etc. I store a separate YAML file for separate categories. If you need to convert the YAML file into Word Document or any text with specific citation formats, you can use/modify the scripts below:</p><ul><li>Create an input file <code class="language-plaintext highlighter-rouge">notes.yml</code> to store all your notes on each paper and the DOI. For example:</ul><div class="language-yaml highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
</pre><td class="rouge-code"><pre><span class="pi">-</span> <span class="na">id</span><span class="pi">:</span> <span class="m">1</span>
  <span class="na">doi</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">https://doi.org/10.1038/nbt.4072</span>
    <span class="pi">-</span> <span class="s">https://doi.org/10.1073/pnas.1811971115</span>
  <span class="na">description</span><span class="pi">:</span> <span class="pi">&gt;</span>
    <span class="s">Brunk et al. used the toolbox to update metabolite formulae and also identify a subset of </span>
    <span class="s">10,600 reactions that were used for the final model. In another paper by Brunk </span>
    <span class="s">et al., they used the COBRA toolbox to perform Markov chain Monte Carlo sampling</span>
    <span class="s">of metabolic fluxes to study post-translational modifications in E. coli.</span>
  <span class="na">tags</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">human</span>
    <span class="pi">-</span> <span class="s">modeling</span>

<span class="pi">-</span> <span class="na">id</span><span class="pi">:</span> <span class="m">2</span>
  <span class="na">doi</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">https://doi.org/10.1016/j.celrep.2019.04.001</span>
  <span class="na">description</span><span class="pi">:</span> <span class="pi">&gt;</span>    
    <span class="s">Greenhalgh et al. performed flux simulation of the interaction of human colon </span>
    <span class="s">adenocarcinoma (COAD) cells with a model probiotic Lactobacillus rhamnosus GG </span>
    <span class="s">cells using the COBRA Toolbox 3.0. By integrating in vitro data and in silico modeling,</span>
    <span class="s">this study introduced a new approach for the development of treatment for </span>
    <span class="s">colorectal cancer.</span>
  <span class="na">tags</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">disease</span>
</pre></table></code></div></div><ul><li>You need the Python script from the previous section and these:</ul><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
</pre><td class="rouge-code"><pre><span class="k">def</span> <span class="nf">convert_data_to_formatted_citations</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">outfilepath</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
  <span class="s">"""Convert the data dictionary to formatted citations
  """</span>
  <span class="c1"># Store doi temporary to check for duplication
</span>  <span class="n">doi_urls_parsed</span> <span class="o">=</span> <span class="p">[]</span>

  <span class="k">for</span> <span class="n">entry</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
    <span class="k">if</span> <span class="s">"formatted_citations"</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">entry</span><span class="p">:</span>
      <span class="n">formatted_citations</span> <span class="o">=</span> <span class="p">[]</span>
      <span class="k">for</span> <span class="n">doi_url</span> <span class="ow">in</span> <span class="n">entry</span><span class="p">[</span><span class="s">'doi'</span><span class="p">]:</span>
        <span class="n">doi_url</span> <span class="o">=</span> <span class="n">doi_url</span><span class="p">.</span><span class="n">strip</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">doi_url</span> <span class="ow">in</span> <span class="n">doi_urls_parsed</span><span class="p">:</span>
          <span class="k">print</span><span class="p">(</span><span class="s">"Duplicated doi found: {}"</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">doi_url</span><span class="p">))</span>
        <span class="n">doi_urls_parsed</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">doi_url</span><span class="p">)</span>

        <span class="c1"># Add a wait time of 1 sec between requests
</span>        <span class="n">time</span><span class="p">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

        <span class="n">ref</span> <span class="o">=</span> <span class="n">build_formatted_citation</span><span class="p">(</span><span class="n">doi_url</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s">'mla'</span><span class="p">)</span>        
        <span class="n">formatted_citations</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">ref</span><span class="p">)</span>
      <span class="n">entry</span><span class="p">[</span><span class="s">'formatted_citations'</span><span class="p">]</span> <span class="o">=</span> <span class="n">formatted_citations</span>

  <span class="k">if</span> <span class="n">outfilepath</span><span class="p">:</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">outfilepath</span><span class="p">,</span> <span class="s">'w'</span><span class="p">)</span> <span class="k">as</span> <span class="n">outfile</span><span class="p">:</span>
      <span class="n">dump</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">outfile</span><span class="p">,</span> <span class="n">default_flow_style</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
  <span class="k">return</span> <span class="n">data</span>

<span class="k">def</span> <span class="nf">print_formatted_text</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
  <span class="k">for</span> <span class="n">entry</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>  
    <span class="k">print</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">"</span> <span class="o">+</span> <span class="n">entry</span><span class="p">[</span><span class="s">'description'</span><span class="p">].</span><span class="n">replace</span><span class="p">(</span><span class="s">"  "</span><span class="p">,</span> <span class="s">" "</span><span class="p">))</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">entry</span><span class="p">[</span><span class="s">'formatted_citations'</span><span class="p">]):</span>
      <span class="k">print</span><span class="p">(</span><span class="s">"- {}"</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">row</span><span class="p">))</span>
      
</pre></table></code></div></div><ul><li>Run the scripts to parse the <code class="language-plaintext highlighter-rouge">notes.yml</code> into a text format:</ul><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="n">filepath</span> <span class="o">=</span> <span class="s">"notes.yml"</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="s">'r'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
  <span class="n">data</span> <span class="o">=</span> <span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">convert_data_to_formatted_citations</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">outfilepath</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
<span class="n">print_formatted_text</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></table></code></div></div><ul><li>The output:</ul><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre>Brunk et al. used the toolbox to update metabolite formulae and also identify a subset of 10,600 reactions that were used for the final model. In another paper by Brunk et al., they used the COBRA toolbox to perform Markov chain Monte Carlo sampling of metabolic fluxes to study post-translational modifications in E. coli.

- Brunk, Elizabeth et al. “Recon3D Enables a Three-Dimensional View of Gene Variation in Human Metabolism.” Nature Biotechnology 36.3 (2018): 272–281.
- Brunk, Elizabeth et al. “Characterizing Posttranslational Modifications in Prokaryotic Metabolism Using a Multiscale Workflow.” Proceedings of the National Academy of Sciences 115.43 (2018): 11096–11101.

Greenhalgh et al. performed flux simulation of the interaction of human colon adenocarcinoma (COAD) cells with a model probiotic Lactobacillus rhamnosus GG cells using the COBRA Toolbox 3.0. By integrating in vitro data and in silico modeling, this study introduced a new approach for the development of treatment for colorectal cancer.

- Greenhalgh, Kacy et al. “Integrated In Vitro and In Silico Modeling Delineates the Molecular Effects of a Synbiotic Regimen on Colorectal-Cancer-Derived Cells.” Cell Reports 27.5 (2019): 1621–1632.e9.
</pre></table></code></div></div><h1 id="reference">Reference:</h1><ul><li>https://citation.crosscite.org/docs.html<li>https://scipython.com/blog/doi-to-bibtex/<li>https://ocefpaf.github.io/python4oceanographers/blog/2014/05/19/doi2bibtex/</ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/tutorial/'>Tutorial</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/crossref/" class="post-tag no-text-decoration" >crossref</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Using crossref API to parse citations - Garage Time @ The Aquarium&url=https://chiamyu.github.io/posts/crossref-api/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Using crossref API to parse citations - Garage Time @ The Aquarium&u=https://chiamyu.github.io/posts/crossref-api/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Using crossref API to parse citations - Garage Time @ The Aquarium&url=https://chiamyu.github.io/posts/crossref-api/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/crossref/">crossref</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div class="post-navigation d-flex justify-content-between"> <span class="btn btn-outline-primary disabled" prompt="Older"><p>-</p></span> <span class="btn btn-outline-primary disabled" prompt="Newer"><p>-</p></span></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2021 <a href="https://twitter.com">CYN</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/crossref/">crossref</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://chiamyu.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
